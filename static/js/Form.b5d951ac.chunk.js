(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{76:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.r(t);var r=a(13),o=a(14),i=a(18),l=a(15),s=a(19),m=a(0),c=a.n(m);a.d(t,"default",function(){return p});var p=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),m=0;m<o;m++)s[m]=arguments[m];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={position_id:1,name:"",nameError:"",email:"",emailError:"",phone:"",phoneError:"",photo:null,photoError:""},a.handleChange=function(e){a.setState(n({},e.target.name,e.target.value))},a.handleOptionChange=function(e){a.setState({position_id:Number(e.target.value)})},a.handlePhotoChange=function(e){a.setState({photo:e.target.files[0]})},a.validate=function(){var e=!1,t=a.state,r=t.name,o=t.email,i=t.phone,l=t.photo,s={nameError:"",emailError:"",phoneError:"",photoError:""};return r.length<6&&(e=!0,s.nameError="Username needs to be atleast 6 characters long"),-1===o.indexOf("@")&&(e=!0,s.emailError="Requires valid email"),13!==i.length&&(e=!0,s.phoneError="Number must consists of 13 digits"),"+380"!==i.slice(0,4)&&(e=!0,s.phoneError="Number must start with +380"),null===l?(e=!0,s.photoError="Needs photo"):"image/jpeg"!==l.type?(e=!0,s.photoError="Photo needs to be in jpeg format"):l.size>5242880&&(e=!0,s.phoneError="Photo should be less than 5 mb"),a.setState(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){n(e,t,a[t])})}return e}({},e,s)}),e},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.position_id,o=t.email,i=t.phone,l=t.photo,s=a.props.onRegister,m={name:n,position_id:r,email:o,phone:i,photo:l};a.validate()||(s(m),a.setState({position_id:1,name:"",nameError:"",email:"",emailError:"",phone:"",phoneError:"",photo:null,photoError:""}))},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.position_id,r=t.email,o=t.phone,i=t.photo,l=t.nameError,s=t.emailError,m=t.phoneError,p=t.photoError,u=this.props,h=u.positions,E=u.fetchTokenError,d=u.fetchPositionsError;return c.a.createElement("section",{className:"Register-section"},c.a.createElement("div",{className:"Register-section__header"},c.a.createElement("h1",null,"Register to get a work"),c.a.createElement("p",null,"Attention! After successful registration and alert, update the list of users in the block from the top")),c.a.createElement("form",{onSubmit:this.handleSubmit,className:"Register-section__form"},c.a.createElement("div",{className:"Register-section__form-main"},c.a.createElement("div",{className:"Register-section__form-main-element"},c.a.createElement("label",{className:"Register-section__form-main-label"},"Name"),c.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"Your name"}),c.a.createElement("div",{className:"Register-section__after-input"},"Enter your name"),l&&c.a.createElement("div",{className:"error-message"},l)),c.a.createElement("div",{className:"Register-section__form-main-element"},c.a.createElement("label",{className:"Register-section__form-main-label"},"Email"),c.a.createElement("input",{type:"email",name:"email",value:r,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"Your email"}),c.a.createElement("div",{className:"Register-section__after-input"},"Enter your email"),s&&c.a.createElement("div",{className:"error-message"},s)),c.a.createElement("div",{className:"Register-section__form-main-element"},c.a.createElement("label",{className:"Register-section__form-main-label"},"Phone number"),c.a.createElement("input",{type:"text",name:"phone",value:o,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"+380"}),c.a.createElement("div",{className:"Register-section__after-input"},"Enter your phone number in open format"),m&&c.a.createElement("div",{className:"error-message"},m))),c.a.createElement("div",{className:"Register-section__select"},c.a.createElement("label",{className:"Register-section__select-header"},"Select your position"),c.a.createElement("div",null,d&&c.a.createElement("div",null,d," + Positions were not found"),h.map(function(t){return c.a.createElement("div",{className:"Register-section__select-position",key:t.id},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:t.id,value:t.id,checked:t.id===n,onChange:e.handleOptionChange}),c.a.createElement("span",null,t.name)))}))),c.a.createElement("div",{className:"Register-section__photo-container"},c.a.createElement("label",{className:"Register-section__photo-label"},"Photo"),c.a.createElement("div",{className:"Register-section__photo-input"},c.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload"},i?i.name:c.a.createElement("span",null,"Upload your photo")),c.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-browse"},"Browse"),c.a.createElement("input",{type:"file",name:"photo",id:"file-upload",onChange:this.handlePhotoChange,className:"Register-section__photo-input"})),p&&c.a.createElement("div",{className:"error-message"},p)),c.a.createElement("button",{type:"submit",className:"button"},"Sing up now"),E&&c.a.createElement("div",null,E," + TokenError")))}}]),t}(m.Component);p.defaultProps={fetchTokenError:"",fetchPositionsError:""}}}]);
//# sourceMappingURL=Form.b5d951ac.chunk.js.map