{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Main/Section_Register/Register.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Register","state","position_id","name","nameError","email","emailError","phone","phoneError","photo","photoError","handleChange","e","_this","setState","target","handleOptionChange","Number","handlePhotoChange","files","validate","isError","_this$state","errors","length","indexOf","slice","type","size","prevState","i","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_objectSpread","handleSubmit","preventDefault","_this$state2","onRegister","props","data","_this2","this","_this$state3","_this$props","positions","fetchTokenError","fetchPositionsError","react_default","a","createElement","className","onSubmit","onChange","placeholder","map","position","id","checked","htmlFor","Component","defaultProps"],"mappings":"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","file":"static/js/Form.b5d951ac.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/* eslint-disable camelcase */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Register extends Component {\n  state = {\n    position_id: 1,\n    name: '',\n    nameError: '',\n    email: '',\n    emailError: '',\n    phone: '',\n    phoneError: '',\n    photo: null,\n    photoError: '',\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleOptionChange = e => {\n    this.setState({ position_id: Number(e.target.value) });\n  };\n\n  handlePhotoChange = e => {\n    this.setState({ photo: e.target.files[0] });\n  };\n\n  validate = () => {\n    let isError = false;\n    const { name, email, phone, photo } = this.state;\n\n    const errors = {\n      nameError: '',\n      emailError: '',\n      phoneError: '',\n      photoError: '',\n    };\n\n    if (name.length < 6) {\n      isError = true;\n      errors.nameError = 'Username needs to be atleast 6 characters long';\n    }\n\n    if (email.indexOf('@') === -1) {\n      isError = true;\n      errors.emailError = 'Requires valid email';\n    }\n\n    if (phone.length !== 13) {\n      isError = true;\n      errors.phoneError = 'Number must consists of 13 digits';\n    }\n\n    if (phone.slice(0, 4) !== '+380') {\n      isError = true;\n      errors.phoneError = 'Number must start with +380';\n    }\n\n    if (photo === null) {\n      isError = true;\n      errors.photoError = 'Needs photo';\n    } else if (photo.type !== 'image/jpeg') {\n      isError = true;\n      errors.photoError = 'Photo needs to be in jpeg format';\n    } else if (photo.size > 5242880) {\n      isError = true;\n      errors.phoneError = 'Photo should be less than 5 mb';\n    }\n\n    this.setState(prevState => ({\n      ...prevState,\n      ...errors,\n    }));\n\n    return isError;\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { name, position_id, email, phone, photo } = this.state;\n    const { onRegister } = this.props;\n    const data = {\n      name,\n      position_id,\n      email,\n      phone,\n      photo,\n    };\n\n    const err = this.validate();\n\n    if (!err) {\n      onRegister(data);\n\n      this.setState({\n        position_id: 1,\n        name: '',\n        nameError: '',\n        email: '',\n        emailError: '',\n        phone: '',\n        phoneError: '',\n        photo: null,\n        photoError: '',\n      });\n    }\n  };\n\n  render() {\n    const {\n      name,\n      position_id,\n      email,\n      phone,\n      photo,\n      nameError,\n      emailError,\n      phoneError,\n      photoError,\n    } = this.state;\n    const { positions, fetchTokenError, fetchPositionsError } = this.props;\n    return (\n      <section className=\"Register-section\">\n        <div className=\"Register-section__header\">\n          <h1>Register to get a work</h1>\n          <p>\n            Attention! After successful registration and alert, update the list\n            of users in the block from the top\n          </p>\n        </div>\n        <form onSubmit={this.handleSubmit} className=\"Register-section__form\">\n          <div className=\"Register-section__form-main\">\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">Name</label>\n\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={name}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"Your name\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your name\n              </div>\n              {nameError && <div className=\"error-message\">{nameError}</div>}\n            </div>\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"Your email\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your email\n              </div>\n              {emailError && <div className=\"error-message\">{emailError}</div>}\n            </div>\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">\n                Phone number\n              </label>\n              <input\n                type=\"text\"\n                name=\"phone\"\n                value={phone}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"+380\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your phone number in open format\n              </div>\n              {phoneError && <div className=\"error-message\">{phoneError}</div>}\n            </div>\n          </div>\n          <div className=\"Register-section__select\">\n            <label className=\"Register-section__select-header\">\n              Select your position\n            </label>\n            <div>\n              {fetchPositionsError && (\n                <div>{fetchPositionsError} + Positions were not found</div>\n              )}\n              {positions.map(position => (\n                <div\n                  className=\"Register-section__select-position\"\n                  key={position.id}\n                >\n                  <label>\n                    <input\n                      type=\"radio\"\n                      name={position.id}\n                      value={position.id}\n                      checked={position.id === position_id}\n                      onChange={this.handleOptionChange}\n                    />\n                    <span>{position.name}</span>\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n          <div className=\"Register-section__photo-container\">\n            <label className=\"Register-section__photo-label\">Photo</label>\n            <div className=\"Register-section__photo-input\">\n              <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n                {photo ? photo.name : <span>Upload your photo</span>}\n              </label>\n\n              <label htmlFor=\"file-upload\" className=\"custom-file-browse\">\n                Browse\n              </label>\n\n              <input\n                type=\"file\"\n                name=\"photo\"\n                id=\"file-upload\"\n                onChange={this.handlePhotoChange}\n                className=\"Register-section__photo-input\"\n              />\n            </div>\n            {photoError && <div className=\"error-message\">{photoError}</div>}\n          </div>\n          <button type=\"submit\" className=\"button\">\n            Sing up now\n          </button>\n          {fetchTokenError && <div>{fetchTokenError} + TokenError</div>}\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.defaultProps = {\n  fetchTokenError: '',\n  fetchPositionsError: '',\n};\n\nRegister.propTypes = {\n  onRegister: PropTypes.func.isRequired,\n  positions: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  fetchTokenError: PropTypes.string,\n  fetchPositionsError: PropTypes.string,\n};\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"sourceRoot":""}